<div id="link-{{ link.id }}" class="absolute top-0 left-0 z-50 min-w-[240px] w-auto max-w-sm p-2 bg-gray-800 rounded-md border border-blue-500 shadow-2xl">

    <form hx-post="{% url 'edit_link' link.id %}"
          hx-target="#link-{{ link.id }}"
          hx-swap="outerHTML"
          class="flex flex-col gap-2"
          onkeydown="if(event.key==='Escape') { event.preventDefault(); this.querySelector('.btn-cancel').click(); }">

        {% csrf_token %}

        <div class="flex gap-2 items-start">
            <div class="flex-1">
                <label class="block text-[9px] text-gray-400 uppercase font-bold mb-0.5">Titre</label>
                <input type="text" name="title" value="{{ link.title }}" required autofocus
                       class="w-full bg-gray-900 text-white text-xs px-2 py-1 rounded border border-gray-600 focus:border-blue-500 focus:outline-none">
            </div>

            <div class="flex flex-col gap-1">
                <button type="submit" class="bg-blue-600 hover:bg-blue-500 text-white text-[10px] px-2 py-1 rounded font-bold">
                    OK
                </button>
                <button type="button"
                        onclick="location.reload()"
                        class="btn-cancel bg-gray-700 hover:bg-gray-600 text-gray-300 text-[9px] px-2 py-1 rounded text-center">
                    X
                </button>
            </div>
        </div>

        <div>
            <label class="block text-[9px] text-gray-400 uppercase font-bold mb-0.5">Commande / URL</label>
            <input type="text" name="url" value="{{ link.url }}"
                   class="w-full bg-black text-green-400 text-xs px-2 py-1 rounded border border-gray-600 focus:border-green-500 focus:outline-none font-mono"
                   placeholder="https://...">
        </div>

    </form>
</div>