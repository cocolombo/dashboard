<div id="link-{{ link.id }}" class="p-1 bg-gray-700/50 rounded border border-blue-500 w-full h-full flex flex-col justify-center">
    <form hx-post="{% url 'edit_link' link.id %}" 
          hx-target="#link-{{ link.id }}" 
          hx-swap="outerHTML"
          class="flex flex-col gap-1 w-full"
          onkeydown="if(event.key==='Escape') { event.preventDefault(); this.querySelector('.btn-cancel').click(); }">
        {% csrf_token %}
        
        <input type="text" name="title" value="{{ link.title }}" required autofocus
               class="w-full bg-gray-900 text-white text-[10px] px-1 py-0.5 rounded border border-gray-600 focus:border-blue-500 focus:outline-none"
               placeholder="Titre">
        
        <input type="text" name="url" value="{{ link.url }}"
               class="w-full bg-gray-900 text-gray-400 text-[10px] px-1 py-0.5 rounded border border-gray-600 focus:border-blue-500 focus:outline-none font-mono"
               placeholder="Cmd...">
        
        <div class="flex justify-between items-center mt-0.5">
            <button type="button" 
                    onclick="location.reload()" 
                    class="btn-cancel text-[9px] text-gray-400 hover:text-white underline decoration-dotted">
                Annuler
            </button>
            
            <button type="submit" class="text-[9px] bg-blue-600 hover:bg-blue-500 text-white px-2 py-0.5 rounded font-bold">
                OK
            </button>
        </div>
    </form>
</div>